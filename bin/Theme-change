#!/bin/sh

#Theme Changing script Don't use this if you don't know what it is doing
#You need to disable password prompt at sudo for this script to work
opt="$(echo "tea\nlake\nforest\ngirl\npywal" | rofi -dmenu -width 25 -lines 5 -i -p "Select Theme ")"
cmd() {
  cd $HOME/dot-files/
  stow -D Bspwm:tea
  stow -D Bspwm:lake
  stow -D Bspwm:pywal
  stow -D Bspwm:forest
  stow -D Dwm:girl
  stow Bspwm:$opt
  stow Dwm:$opt
  feh --bg-fill $HOME/Wallpapers/$opt.*
  [ "${opt}" = "girl" ] && killall -q polybar || $HOME/.config/bspwm/bspwmrc
  xrdb -remove
  xrdb $HOME/xrdb/$opt/$opt
 
 
  $HOME/bin/stmessage st tabbed
  $HOME/bin/dunstxres
  notify-send "Theme Changed to $opt" -i $HOME/Wallpapers/$opt.* -t 3000;
  sudo cp $HOME/Wallpapers/$opt.* /boot/grub/themes/Ettery/background.png
  cd $HOME
}
pywal() {
  $HOME/bin/rofi-wal
}
case $opt in
  tea) cmd ;;
  lake) cmd ;;
  pywal) pywal ;;
  forest) cmd ;;
  girl) cmd ;;
esac
